<!DOCTYPE html>
<html>
  <head>
    <title>Luna SDK -- Cobalt</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Synthesis Configuration :: Luna SDK -- Cobalt</title>
<link rel="shortcut icon" href="/sdk-luna/images/favicon.ico" type="image/x-icon" />
<link href="/sdk-luna/css/nucleus.css" rel="stylesheet">
<link href="/sdk-luna/css/font-awesome.min.css" rel="stylesheet">
<link href="/sdk-luna/css/hybrid.css" rel="stylesheet">
<link href="/sdk-luna/css/featherlight.min.css" rel="stylesheet">
<link href="/sdk-luna/css/auto-complete.css" rel="stylesheet">
<link href="/sdk-luna/theme-original/style.css" rel="stylesheet">

  <link href="/sdk-luna/theme-original/variant-blue.css" rel="stylesheet">

<link rel="stylesheet" href="/sdk-luna/css/bootstrap.min.css">
<script src="/sdk-luna/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<link href="/sdk-luna/css/tabs.css" rel="stylesheet" type="text/css">
<script src="/sdk-luna/js/tabs.js"></script>


    
  </head>
  <body data-url="/sdk-luna/using-luna-sdk/synthesis-config/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="showVisitedLinks">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <p><img src="/sdk-luna/images/logo-white.png" alt="Cobalt's SDK Documentation" /></p>

<p>Luna SDK &ndash; Cobalt</p>

  


    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/sdk-luna/js/lunr.min.js"></script>
		<script type="text/javascript" src="/sdk-luna/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "https:\/\/cobaltspeech.github.io\/sdk-luna";
        
		</script>
		<script type="text/javascript" src="/sdk-luna/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/sdk-luna/" class="dd-item">
            <a href="/sdk-luna/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/sdk-luna/getting-started/" class="dd-item
        ">
      <div>
      <a href="/sdk-luna/getting-started/">Getting Started</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/sdk-luna/using-luna-sdk/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/sdk-luna/using-luna-sdk/">Using Luna SDK</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/sdk-luna/using-luna-sdk/include/" class="dd-item">
        <div>
          <a href="/sdk-luna/using-luna-sdk/include/">
            Including the SDK
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-luna/using-luna-sdk/errors/" class="dd-item">
        <div>
          <a href="/sdk-luna/using-luna-sdk/errors/">
            Error Handling
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-luna/using-luna-sdk/connecting/" class="dd-item">
        <div>
          <a href="/sdk-luna/using-luna-sdk/connecting/">
            Connecting to the Server
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-luna/using-luna-sdk/synthesis-config/" class="dd-item active">
        <div>
          <a href="/sdk-luna/using-luna-sdk/synthesis-config/">
            Synthesis Configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-luna/using-luna-sdk/batch/" class="dd-item">
        <div>
          <a href="/sdk-luna/using-luna-sdk/batch/">
            Batch Synthesis
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sdk-luna/using-luna-sdk/streaming/" class="dd-item">
        <div>
          <a href="/sdk-luna/using-luna-sdk/streaming/">
            Streaming Synthesis
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/sdk-luna/protobuf/" class="dd-item
        ">
      <div>
      <a href="/sdk-luna/protobuf/">Luna API Reference</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>More</h3><a href="https://github.com/cobaltspeech/sdk-luna" target="_blank" rel="noopener"><i class='fa fa-github'></i> <label>Github repo</label></a></li>
                <li class="" role=""><a href="https://www.cobaltspeech.com/contact" target="_blank" rel="noopener"><i class='fa fa-bookmark'></i> <label>Contact us</label></a></li>
        </section>
            <a id="clear-history" class="" href="#" data-clear-history-toggle=""><i class="fa  fa-history"></i> Clear History</a>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer">
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/sdk-luna/'>Luna SDK Documentation</a> > <a href='/sdk-luna/using-luna-sdk/'>Using Luna SDK</a> > Synthesis Configuration

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#voice-id">Voice ID</a></li>
<li><a href="#audio-encoding">Audio Encoding</a></li>
<li><a href="#buffer-size-optional">Buffer Size (Optional)</a></li>
<li><a href="#example">Example</a></li>
</ul></li>
</ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>Synthesis Configuration</h1>
  



    
    
    
    

<p>Before we can run text-to-speech, the client needs to specify the
configuration Luna should use to generate the audio. The Luna options
include the specific voice model, the audio encoding, and the sample
size. Except where noted, these options apply to both
<a href="../batch">batch synthesis</a> and <a href="../streaming">streaming synthesis</a>.</p>

<h2 id="voice-id">Voice ID</h2>

<p>Voice models are defined in the Luna server config file, and the client
can get a list of available voice models using the <code>ListVoices</code> method.</p>

<div class='code-tabs'>
  <ul class="nav-tabs"></ul>
  <div class="tab-content">

<div class="tab-pane" title="Go">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#999;font-style:italic">// Get the list of voices from Luna
</span><span style="color:#999;font-style:italic"></span>response, err := client.<span style="color:#447fcf">ListVoices</span>(context.<span style="color:#447fcf">Background</span>())

<span style="color:#999;font-style:italic">// Display the list
</span><span style="color:#999;font-style:italic"></span>fmt.<span style="color:#447fcf">Printf</span>(<span style="color:#ed9d13">&#34;Available voices:\n&#34;</span>)
<span style="color:#6ab825;font-weight:bold">for</span> _, voice := <span style="color:#6ab825;font-weight:bold">range</span> response.Voices {
    fmt.<span style="color:#447fcf">Printf</span>(<span style="color:#ed9d13">&#34;  Name: %s  ID: %s\n&#34;</span>, voice.Name, voice.Id)
}</code></pre></div>
</div>

<div class="tab-pane" title="Python">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#999;font-style:italic"># Get the list of voices from Luna</span>
response = client.ListVoices()

<span style="color:#999;font-style:italic"># Display the list</span>
<span style="color:#6ab825;font-weight:bold">print</span>(<span style="color:#ed9d13">&#34;Available voices:&#34;</span>)
<span style="color:#6ab825;font-weight:bold">for</span> v <span style="color:#6ab825;font-weight:bold">in</span> response.voices:
    <span style="color:#6ab825;font-weight:bold">print</span>(<span style="color:#ed9d13">&#34;  Name: {}  ID:  {}&#34;</span>.format(v.name, v.<span style="color:#24909d">id</span>))</code></pre></div>
</div>

<div class="tab-pane" title="C&#43;&#43;">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#999;font-style:italic">// Get the list of voices from Luna
</span><span style="color:#999;font-style:italic"></span>std::vector&lt;LunaVoice&gt; voices = client.listVoices();

<span style="color:#999;font-style:italic">// Display the list
</span><span style="color:#999;font-style:italic"></span>std::cout &lt;&lt; <span style="color:#ed9d13">&#34;Available voices:&#34;</span> &lt;&lt; std::endl;
<span style="color:#6ab825;font-weight:bold">for</span> (<span style="color:#6ab825;font-weight:bold">const</span> LunaVoice &amp;v : voices)
{
    std::cout &lt;&lt; <span style="color:#ed9d13">&#34;  Name: &#34;</span> &lt;&lt; v.name() &lt;&lt; <span style="color:#ed9d13">&#34;  ID: &#34;</span> &lt;&lt; v.id() &lt;&lt; std::endl;
}
</code></pre></div>
</div>

<p></div>
</div></p>

<p>The API requires the voice ID to be specified as part of the TTS synthesis
request. The voice ID for each model is defined in the server&rsquo;s config file.</p>

<h2 id="audio-encoding">Audio Encoding</h2>

<p>The API requires that the audio encoding also be specified as part of the
TTS synthesis request. The supported encodings are listed in the
<a href="../../protobuf/#enum-synthesizerconfig-audioencoding">Luna API Reference</a>.</p>

<div class="panel panel-info">
    <div class="panel-heading">Note</div>
    <div class="panel-body">
Audio encoding does not affect the sample rate of the generated audio.
Sample rate is an intrisic part of the Luna voice model being used.
Make sure your application uses a sample rate that matches the model.
If you are using a custom model, be sure to inform Cobalt of your desired
sample rate.
</div>
    

<p></div></p>

<h2 id="buffer-size-optional">Buffer Size (Optional)</h2>

<p>When running <a href="../streaming">streaming synthesis</a>, a client may optionally
specify a buffer size. If set (and not zero), the server will wait until
the buffer is full before sending the audio data to the client. In the
case where the entire generated audio is less than the buffer size, the
samples will be returned when synthesis is complete. If the buffer size
is not set, audio data will be returned as soon as it becomes available
on the server.</p>

<h2 id="example">Example</h2>

<p>Below is an example showing how client code should set up the synthesis
config.</p>

<div class='code-tabs'>
  <ul class="nav-tabs"></ul>
  <div class="tab-content">

<div class="tab-pane" title="Go">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#999;font-style:italic">// Set up the synthesis config with the desired voice and encoding
</span><span style="color:#999;font-style:italic"></span>synthConfig := &amp;lunapb.SynthesizerConfig{
    VoiceId: <span style="color:#ed9d13">&#34;1&#34;</span>, <span style="color:#999;font-style:italic">// As defined in the Luna server config file
</span><span style="color:#999;font-style:italic"></span>    Encoding: lunapb.SynthesizerConfig_RAW_LINEAR16,

    <span style="color:#999;font-style:italic">// If setting the buffer size for streaming, include this param
</span><span style="color:#999;font-style:italic"></span>    <span style="color:#999;font-style:italic">// with the application&#39;s desired buffer size.
</span><span style="color:#999;font-style:italic"></span>    NSamples: <span style="color:#3677a9">8096</span>,
}</code></pre></div>
</div>

<div class="tab-pane" title="Python">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#999;font-style:italic"># Set up the synthesis config with the desired voice and encoding</span>
synth_config = SynthesizerConfig(
    voice_id=<span style="color:#ed9d13">&#34;1&#34;</span>, <span style="color:#999;font-style:italic"># As defined in the Luna server config file</span>
    encoding=SynthesizerConfig.RAW_LINEAR16,
    
    <span style="color:#999;font-style:italic"># If setting the buffer size for streaming, include this arg with</span>
    <span style="color:#999;font-style:italic"># the application&#39;s desired buffer size.</span>
    n_samples=<span style="color:#3677a9">8096</span>)</code></pre></div>
</div>

<div class="tab-pane" title="C&#43;&#43;">
  <div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#999;font-style:italic">// Set up the synthesis config with the desired voice and encoding
</span><span style="color:#999;font-style:italic"></span>cobaltspeech::luna::SynthesizerConfig synthConfig;
synthConfig.set_voice_id(<span style="color:#ed9d13">&#34;1&#34;</span>); <span style="color:#999;font-style:italic">// As defined in the Luna server config file
</span><span style="color:#999;font-style:italic"></span>synthConfig.set_encoding(cobaltspeech::luna::SynthesizerConfig::RAW_LINEAR16);

<span style="color:#999;font-style:italic">// If setting the buffer size for streaming, include this line with the
</span><span style="color:#999;font-style:italic">// application&#39;s desired buffer size.
</span><span style="color:#999;font-style:italic"></span>synthConfig.set_n_samples(<span style="color:#3677a9">8096</span>);
</code></pre></div>
</div>

<p></div>
</div></p>


    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
<a class="nav nav-prev" href="/sdk-luna/using-luna-sdk/connecting/" title="Connecting to the Server"> <i class="fa fa-chevron-left"></i><label>Connecting to the Server</label></a>
    <a class="nav nav-next" href="/sdk-luna/using-luna-sdk/batch/" title="Batch Synthesis" style="margin-right: 0px;"><label>Batch Synthesis</label><i class="fa fa-chevron-right"></i></a></div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/sdk-luna/js/clipboard.min.js"></script>
<script src="/sdk-luna/js/featherlight.min.js"></script>
<script src="/sdk-luna/js/html5shiv-printshiv.min.js"></script>

<script src="/sdk-luna/js/modernizr.custom.71422.js"></script>
<script src="/sdk-luna/js/docdock.js"></script>
<script src="/sdk-luna/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>